!!!
%html
  %head
    %title Wallet
    %meta{:name => :viewport, :content => "width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"}
    %meta{:name => "format-detection", :content => "telephone=no"}
    %link{:media => "only screen and (max-device-width:480px)", :href => "smart.css", :type => "text/css", :rel => "stylesheet"}
    %link{:media => "screen and (min-device-width:481px)", :href => "design.css", :type => "text/css", :rel => "stylesheet"}
  %body
    %a{:href => '/logout'} Logout
    %a{:href => '/profile'} Profile
    %p Hello @#{nickname}! (#{accountid})
    - qrad = 'https://chart.googleapis.com/chart?chs=150x150&cht=qr&chl='
    - coins.each do |key, coin|
      %p= key
      - balance = coin[:balance]
      - progress = coin[:balance0] - balance
      - sym = coin[:symbol]
      - pstr = progress > 0 ? (" (%.4f #{sym})" % progress) : ''
      - addr = coin[:addr]
      Your balance: #{"%.4f" % balance} #{sym}#{pstr}
      %a{:href => "/withdraw?coinid=#{key}"} Withdraw
      %a{:href => "/donate?coinid=#{key}"} Donate to faucet
      %br
      Your deposit address: #{addr}
      %br
      %img{:src => "#{qrad}#{addr}"}
      %hr
    %p Ripple
    Your address: #{rippleaddr}
    %hr
    %p The total number of accounts: #{accounts.size}
    - balances.each do |coinid, balance|
      - sym = coins[coinid][:symbol]
      %p #{coinid}: #{"%.4f" % balance} #{sym}
